<pre>
Files and Directories Affected on Ceph-OSD Nodes:
Cluster Configuration File (ceph.conf):

Location: /etc/ceph/ceph.conf
The ceph.conf file is updated with the addresses of the monitor nodes. This file contains details such as:
Monitor IPs and ports.
Cluster name.
Other global Ceph settings.
Example updates:
ini
Copy code
[global]
mon host = 10.0.0.1,10.0.0.2,10.0.0.3
fsid = <cluster-fsid>
Keyring File (ceph.client.admin.keyring):

Location: /etc/ceph/ceph.client.admin.keyring
A keyring file is placed or updated to allow the OSDs to authenticate with the monitors and the Ceph cluster.
OSD Keyring Files:

Location: /var/lib/ceph/osd/ceph-<id>/keyring
Each OSD has its own keyring to authenticate and join the cluster. These files are either created or updated when monitors are added.
Monitor Map (monmap):

Location: /var/lib/ceph/osd/ceph-<id>/activate.monmap
A monitor map file is created or updated to reflect the current state of the monitors in the cluster. This file is used during OSD activation to establish connections with the monitors.
Cluster FSID:

Location: /var/lib/ceph/osd/ceph-<id>/fsid
The FSID of the cluster is written or verified in this file to ensure the OSD is associated with the correct cluster.
Log Files:

Location: /var/log/ceph/ceph-osd.<id>.log
Logs may record updates and activities as the OSD synchronizes with the updated monitor list.
Key Processes Triggered by Juju:
Configuration Sync: The ceph-mon charm ensures that the ceph.conf and keyring files are distributed to all OSD nodes.

OSD Registration: Each OSD node is registered with the monitor nodes, ensuring they are part of the cluster.

Monitor Communication: The OSDs establish communication with the monitors using the updated monmap.

Dynamic Updates: Any changes in the monitor topology (e.g., adding or removing monitors) will automatically propagate to the OSD nodes via Juju.

How to Verify Changes:
Check the ceph.conf file for the updated monitor information:
bash
Copy code
cat /etc/ceph/ceph.conf
Verify the keyring file:
bash
Copy code
cat /etc/ceph/ceph.client.admin.keyring
Confirm the monitor map:
bash
Copy code
ceph osd getmap -o /tmp/monmap
ceph-mon --dump-monmap -i /tmp/monmap
These files ensure the Ceph-OSD nodes can authenticate, communicate with monitors, and operate effectively in the cluster.
</pre>
